<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untuk Kamu ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body {
  margin: 0;
  font-family: 'Comic Sans MS', cursive;
  background: linear-gradient(135deg, #ff9ecf, #ffc1e3);
  overflow: hidden;
  text-align: center;
  color: pink;
}

.slide {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: fadeIn 1s ease;
  width: 90%;
  max-width: 400px;
}

h1 {
  font-size: 1.8em;
  margin-bottom: 20px;
}

button {
  padding: 12px 25px;
  margin: 10px;
  border: none;
  border-radius: 25px;
  background: white;
  color: #ff4fa3;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
  position: relative;
}

button:hover {
  transform: scale(1.1);
  background: #ffe6f2;
}

@keyframes fadeIn {
  from {opacity: 0; transform: translate(-50%, -40%);}
  to {opacity: 1; transform: translate(-50%, -50%);}
}

.heart {
  position: fixed;
  top: -10px;
  animation: fall linear forwards;
  color: pink;
}

@keyframes fall {
  to { transform: translateY(110vh); opacity: 0; }
}

.bear {
  position: fixed;
  bottom: 0;
  right: 15px;
  width: 180px;
  max-width: 40vw;
  pointer-events: none;
}
</style>
</head>

<body>

<div class="slide" id="slide">
  <h1 id="text">Selamat datang cintakuu ‚ù§Ô∏è</h1>
  <div id="buttons">
    <button onclick="playClick(); next()">Next</button>
  </div>
</div>

<!-- SOUND -->
<audio id="clickSound" src="klik.mp3"></audio>
<audio id="noSound" src="gbs.mp3"></audio>
<audio id="yaySound" src="yay.mp3"></audio>

<script>
emailjs.init("62lI_6oEr5dhQw33V");

let step = 0;
let responses = [];

function playClick(){ document.getElementById("clickSound").play(); }
function playNo(){ document.getElementById("noSound").play(); }
function playYay(){ document.getElementById("yaySound").play(); }

function next(answerText = null) {
  if (answerText) responses.push(answerText);
  step++;

  const text = document.getElementById("text");
  const buttons = document.getElementById("buttons");

  if (step === 1) {
    text.innerHTML = "Aku minta maaf yaa";
    buttons.innerHTML = `
      <button onclick="playClick(); next('Maaf: Iyaa')">Iyaa</button>
      <button onclick="playClick(); next('Maaf: Engga')">Engga</button>`;
  }
  else if (step === 2) {
    text.innerHTML = "Aku sayang sama kamu, kamu sayang aku ngga?";
    buttons.innerHTML = `
      <button onclick="playClick(); next('Sayang: Iya')">Iya</button>
      <button onclick="playClick(); next('Sayang: Engga')">Engga</button>`;
  }
  else if (step === 3) {
    text.innerHTML = "Aku sangat cinta sama kamu, kamu cinta aku ngga?";
    buttons.innerHTML = `
      <button onclick="playClick(); next('Cinta: Aku cinta')">Aku cinta</button>
      <button onclick="playClick(); next('Cinta: G')">G</button>`;
  }
  else if (step === 4) {
    text.innerHTML = "Mau cintai aku sekali lagi?";
    buttons.innerHTML = `
      <button onclick="playClick(); next('Cintai lagi: Mau')">Mau</button>
      <button id="runBtn1" onclick="runAway(this, event)">Tidak</button>`;
  }
  else if (step === 5) {
    text.innerHTML = "Kamu masih mau sama aku?";
    buttons.innerHTML = `
      <button onclick="playClick(); next('Masih mau: Mau')">Mau</button>
      <button id="runBtn2" onclick="runAway(this, event)">Engga</button>`;
  }
  else if (step === 6) {
    text.innerHTML = "Udah yakin dengan semua itu?";
    buttons.innerHTML = `
      <button onclick="playYay(); next('Yakin: Iya banget')">Iyaa aku sangat yakin sayangg</button>`;
  }
  else {
    text.innerHTML = "Terimakasih telah menjawab ‚ù§Ô∏è";
    buttons.innerHTML = "";
    sendEmail();
  }
}

function runAway(btn, e){
  e.preventDefault();
  playNo();

  const slide = document.getElementById("slide");
  const rect = slide.getBoundingClientRect();

  const maxX = rect.width - btn.offsetWidth - 20;
  const maxY = rect.height - btn.offsetHeight - 20;

  btn.style.position = "absolute";
  btn.style.left = Math.random() * maxX + "px";
  btn.style.top = Math.random() * maxY + "px";
}

function sendEmail() {
  emailjs.send("service_utzn7ua", "template_p4wklzb", {
    message: responses.join("\n")
  });
}

// Hujan hati
setInterval(() => {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerHTML = "üíó";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = (Math.random() * 20 + 15) + "px";
  heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}, 500);
</script>

<img src="bear.gif" class="bear">

</body>
</html>
